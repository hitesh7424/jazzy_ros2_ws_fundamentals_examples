# Working with URDF, RViz, and Robot Structure in ROS 2

## Topics Covered
- RViz visualization
- URDF (Unified Robot Description Format)
- Robot structure: base, joints, links, end-effectors

---

## Step-by-Step Workflow

### 1. Create ROS 2 Packages
```bash
mkdir mycobot_ros2 && cd mycobot_ros2/
ros2 pkg create --build-type ament_cmake --license BSD-3-Clause mycobot_description

# Create a meta package (optional, for grouping related packages)
ros2 pkg create --build-type ament_cmake --license BSD-3-Clause mycobot_ros2
```

### 2. Organize Folders
```bash
mkdir -p meshes/mycobot_280/visual
mkdir -p urdf/control
mkdir -p urdf/mech
mkdir -p urdf/sensors
mkdir -p urdf/robots
```
- **meshes/**: 3D models for visualization and collision (formats: `.dae`, `.stl`)
- **urdf/**: Robot description files (URDF/Xacro)

### 3. Get Mesh Files
```bash
git clone -b jazzy https://github.com/automaticaddison/mycobot_ros2.git
cp -r ./mycobot_ros2/mycobot_description/meshes/* ./ros2_ws/src/mycobot_ros2/mycobot_description/meshes/
```

### 4. Install Dependencies
```bash
rosdep install -i --from-path src --rosdistro $ROS_DISTRO -y
```

### 5. Create URDF/Xacro Files
```bash
touch ./src/mycobot_ros2/mycobot_description/urdf/mech/{g_shape_base_v2.0.urdf.xacro,adaptive_gripper.urdf.xacro,mycobot_280_arm.urdf.xacro}
touch ./src/mycobot_ros2/mycobot_description/urdf/robots/mycobot_280.urdf.xacro
```
- Use Xacro for modular and parameterized robot descriptions.

### 6. Visualize in RViz
```bash
ros2 launch urdf_tutorial display.launch.py model:=/home/hitesh/Desktop/ROS2projects/ros2_ws/src/mycobot_ros2/mycobot_description/urdf/robots/mycobot_280.urdf.xacro
```
- This launches RViz and loads your robot model for visualization.

### 7. View TF Frames
```bash
ros2 run tf2_tools view_frames
```
- Generates a PDF of the robot's coordinate frames (TF tree).

### 8. Create a Convenient Alias
```bash
echo "alias elephant='ros2 launch urdf_tutorial display.launch.py model:=/home/hitesh/Desktop/ROS2projects/ros2_ws/src/mycobot_ros2/mycobot_description/urdf/robots/mycobot_280.urdf.xacro'" >> ~/.bashrc
source ~/.bashrc
```
- Now you can type `elephant` in your terminal to launch your robot in RViz.

---

## Additional Information

### What is URDF?
- **URDF (Unified Robot Description Format)** is an XML format for representing a robot model (links, joints, sensors, etc.) in ROS.
- Use `.urdf` for static files, `.xacro` for parameterized/modular files.

### What is RViz?
- **RViz** is a 3D visualization tool for ROS. It lets you view your robot, sensor data, coordinate frames, and more.

### Robot Structure
- **Base:** The main reference frame of the robot (usually the body or chassis).
- **Links:** Rigid parts of the robot (e.g., arms, grippers).
- **Joints:** Connections between links that allow movement (e.g., revolute, prismatic).
- **End-Effector:** The tool or gripper at the end of a robot arm.

### Mesh Files
- Used for visualization and collision checking in simulation and RViz.
- Common formats: `.dae` (Collada), `.stl` (Stereolithography).

### Meta Package
- A meta package is a package that only contains a `package.xml` and is used to group related packages together.

---

**References:**
- [URDF Tutorials](https://wiki.ros.org/urdf/Tutorials)
- [RViz User Guide](https://wiki.ros.org/rviz/UserGuide)
- [TF2 Tutorials](https://docs.ros.org/en/rolling/Tutorials/Intermediate/Tf2/Understanding-Tf2.html)